{{ define "main" }}

<div class="section-shadow">


<article id="main-article">
	<div class="container mb-4 py-3 section-bg angle-rect optional">

	<div class="row">
		<div class="col">
			<h1 class="articleheader first-header">{{ .Title }}</h1>
			{{ if .Params.author }}<em>Contributed by {{ .Params.author }}</em><br/>{{ end }}
			<span class="articlemeta">
				<time datetime="{{ .Date.Format "2006-01-02T15:04:05-0700" }}">
					{{ .Date.Format "Monday January 2, 2006" }}
				</time>
			</span>
		</div>
		{{ if .Params.thumbnail }}
			<div class="col-md-2 col-4">
				{{ partial "post_thumbnail.html" . }}
			</div>
		{{ end }}
	</div>


	{{ if not .Params.hide_toc }}
	<div class="mb-3">
		<!-- The links from the Toc redirect by default to the siteURL, this is my workaround to that -->
		{{ replace .TableOfContents `href="#` (printf `href="%s#` .Permalink) | safeHTML }}
	</div>
	{{ end }}
	{{  .Content }}

	{{ if .Params.reddit }}
	<hr>
	<footer class="d-flex justify-items-center">
		 <a class="center" href="{{ .Params.reddit }}">Join the discussion on Reddit!</a>
	</footer>
	{{ end }}
</div>
</article>

</div>
{{ end }}
